2025-08-12 03:21:41.882  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 0ce8f8ae80f1 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:21:41.890  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:21:46.544  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:21:46.556  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:21:47.023  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 427 ms. Found 1 JPA repository interfaces.
2025-08-12 03:21:47.095  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:21:47.102  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:21:47.144  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:21:47.146  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-08-12 03:21:49.845  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:21:49.874  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:21:49.877  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:21:50.154  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:21:50.155  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7911 ms
2025-08-12 03:21:51.186  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:21:51.198  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:21:51.204  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:21:51.307  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:21:52.552  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:21:52.674  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:21:52.741  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:21:53.240  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.367s)
2025-08-12 03:21:53.304  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:21:53.316  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:21:53.985  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:21:54.504  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:21:55.537  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:21:56.201  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:21:58.797  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:21:58.833  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:21:58.930  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:22:04.736  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@784223e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7316523a, org.springframework.security.web.context.SecurityContextPersistenceFilter@45b15381, org.springframework.security.web.header.HeaderWriterFilter@48a663e9, org.springframework.web.filter.CorsFilter@33a55bd8, org.springframework.security.web.authentication.logout.LogoutFilter@1fedf0a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@239f017e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@772caabe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73a8e994, org.springframework.security.web.session.SessionManagementFilter@39ffda4a, org.springframework.security.web.access.ExceptionTranslationFilter@939ff41, org.springframework.security.web.access.intercept.AuthorizationFilter@2cd4e16a]
2025-08-12 03:22:05.240  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:22:08.140  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:22:08.157  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:22:08.667  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#51a18b21:0/SimpleConnection@6b649efa [delegate=amqp://admin@172.18.0.4:5672/, localPort= 48910]
2025-08-12 03:22:09.030  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 29.888 seconds (JVM running for 32.116)
2025-08-12 03:22:36.063  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 03:22:36.065  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 03:22:36.067  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-12 03:22:36.799 ERROR 1 --- [http-nio-8084-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379] with root cause

java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-08-12 03:26:55.327  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on daea4623c951 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:26:55.345  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:26:57.283  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:26:57.287  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:26:57.508  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 206 ms. Found 1 JPA repository interfaces.
2025-08-12 03:26:57.534  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:26:57.537  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:26:57.559  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:26:57.561  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-08-12 03:26:58.358  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:26:58.381  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:26:58.383  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:26:58.469  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:26:58.470  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3013 ms
2025-08-12 03:26:58.735  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:26:58.736  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:26:58.738  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:26:58.761  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:26:59.062  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:26:59.099  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:26:59.131  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:26:59.231  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.069s)
2025-08-12 03:26:59.248  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:26:59.251  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:26:59.427  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:26:59.558  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:26:59.772  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:26:59.891  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:27:00.422  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:27:00.434  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:27:00.449  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:27:02.179  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42383cb0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7668892a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7102ac3e, org.springframework.security.web.header.HeaderWriterFilter@39ffda4a, org.springframework.web.filter.CorsFilter@a83495d, org.springframework.security.web.authentication.logout.LogoutFilter@1acb74ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2db2a05f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d5bb1c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e83992, org.springframework.security.web.session.SessionManagementFilter@38cedb7d, org.springframework.security.web.access.ExceptionTranslationFilter@56476c16, org.springframework.security.web.access.intercept.AuthorizationFilter@73a8e994]
2025-08-12 03:27:02.340  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:27:02.994  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:27:02.999  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:27:03.083  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1db7157f:0/SimpleConnection@208205ed [delegate=amqp://admin@172.18.0.4:5672/, localPort= 47978]
2025-08-12 03:27:03.173  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 8.873 seconds (JVM running for 9.72)
2025-08-12 03:27:26.109  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 03:27:26.110  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 03:27:26.115  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-08-12 03:27:26.682 ERROR 1 --- [http-nio-8084-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379] with root cause

java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-08-12 03:31:46.342  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 03:31:47.252  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 03:31:47.391  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:31:47.394  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:31:47.399  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:31:50.685  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 16c2e8528603 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:31:50.688  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:31:52.021  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:31:52.028  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:31:52.191  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 152 ms. Found 1 JPA repository interfaces.
2025-08-12 03:31:52.221  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:31:52.224  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:31:52.239  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:31:52.241  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-12 03:31:53.087  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:31:53.098  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:31:53.099  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:31:53.152  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:31:53.153  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2395 ms
2025-08-12 03:31:53.385  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:31:53.386  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:31:53.388  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:31:53.407  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:31:53.762  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:31:53.804  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:31:53.828  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:31:53.908  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.055s)
2025-08-12 03:31:53.928  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:31:53.930  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:31:54.042  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:31:54.126  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:31:54.393  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:31:54.599  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:31:55.284  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:31:55.294  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:31:55.320  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:31:56.856  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e83992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4364863, org.springframework.security.web.context.SecurityContextPersistenceFilter@695c938d, org.springframework.security.web.header.HeaderWriterFilter@45b15381, org.springframework.web.filter.CorsFilter@3625a016, org.springframework.security.web.authentication.logout.LogoutFilter@12b5736c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ed3df3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b960b5b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@267cde2e, org.springframework.security.web.session.SessionManagementFilter@7102ac3e, org.springframework.security.web.access.ExceptionTranslationFilter@3ba348ca, org.springframework.security.web.access.intercept.AuthorizationFilter@42383cb0]
2025-08-12 03:31:56.987  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:31:57.654  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:31:57.661  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:31:57.719  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#cb39552:0/SimpleConnection@5700c9db [delegate=amqp://admin@172.18.0.4:5672/, localPort= 51112]
2025-08-12 03:31:57.795  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 8.24 seconds (JVM running for 9.599)
2025-08-12 03:32:12.348  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 03:32:12.349  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 03:32:12.352  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-12 03:32:13.106 ERROR 1 --- [http-nio-8084-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379] with root cause

java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-08-12 03:35:46.640  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 03:35:46.866  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 03:35:47.008  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:35:47.011  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:35:47.015  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:35:51.039  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 8ac772db98d6 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:35:51.049  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:35:53.567  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:35:53.573  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:35:53.852  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 262 ms. Found 1 JPA repository interfaces.
2025-08-12 03:35:53.905  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:35:53.909  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:35:53.936  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:35:53.939  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-12 03:35:55.036  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:35:55.048  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:35:55.049  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:35:55.117  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:35:55.118  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3936 ms
2025-08-12 03:35:55.379  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:35:55.380  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:35:55.382  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:35:55.401  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:35:55.690  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:35:55.723  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:35:55.744  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:35:55.857  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.081s)
2025-08-12 03:35:55.883  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:35:55.886  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:35:56.089  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:35:56.175  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:35:56.373  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:35:56.512  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:35:57.043  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:35:57.050  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:35:57.070  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:35:59.493  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b5ac798, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42383cb0, org.springframework.security.web.context.SecurityContextPersistenceFilter@2acdcce8, org.springframework.security.web.header.HeaderWriterFilter@497b560e, org.springframework.web.filter.CorsFilter@7668892a, org.springframework.security.web.authentication.logout.LogoutFilter@1015a4b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f598450, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@695c938d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a83495d, org.springframework.security.web.session.SessionManagementFilter@239f017e, org.springframework.security.web.access.ExceptionTranslationFilter@2d85fb64, org.springframework.security.web.access.intercept.AuthorizationFilter@33a55bd8]
2025-08-12 03:35:59.665  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:36:00.606 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 03:36:00.610 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 03:36:00.956  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:36:00.964  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:36:01.130  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#75e27856:0/SimpleConnection@22bf9122 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 38300]
2025-08-12 03:36:01.261  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 11.915 seconds (JVM running for 13.355)
2025-08-12 03:36:14.417  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 03:36:14.418  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 03:36:14.424  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-08-12 03:36:14.864 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:36:15.151 ERROR 1 --- [http-nio-8084-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379] with root cause

java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:946) ~[na:na]
	at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:337) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:776) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.101.Final.jar!/:4.1.101.Final]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-08-12 03:38:27.991  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 03:38:28.308  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 03:38:28.328 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 03:38:28.451  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:38:28.457  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:38:28.461  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:38:31.915  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:38:31.919  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:38:32.999  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:33.003  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:38:33.170  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 157 ms. Found 1 JPA repository interfaces.
2025-08-12 03:38:33.191  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:33.193  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:38:33.227  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:38:33.229  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-12 03:38:34.146  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:38:34.165  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:38:34.166  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:38:34.251  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:38:34.252  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2236 ms
2025-08-12 03:38:34.449  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:38:34.450  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:38:34.453  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:38:34.464  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:38:34.752  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:38:34.782  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:38:34.800  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:38:34.861  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.038s)
2025-08-12 03:38:34.882  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:38:34.885  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:38:34.995  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:38:35.066  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:38:35.237  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:38:35.364  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:38:35.824  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:38:35.832  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:38:35.856  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:38:37.075  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:38:37.106  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:38:37.108  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:38:37.112  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:38:37.122  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:38:37.139  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:38:37.172 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:38:40.411  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:38:40.416  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:38:41.382  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:41.386  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:38:41.601  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 203 ms. Found 1 JPA repository interfaces.
2025-08-12 03:38:41.629  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:41.631  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:38:41.648  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:38:41.650  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-12 03:38:42.609  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:38:42.621  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:38:42.622  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:38:42.679  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:38:42.680  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2205 ms
2025-08-12 03:38:42.943  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:38:42.945  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:38:42.947  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:38:42.970  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:38:43.232  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:38:43.257  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:38:43.280  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:38:43.350  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.051s)
2025-08-12 03:38:43.369  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:38:43.373  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:38:43.484  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:38:43.559  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:38:43.932  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:38:44.129  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:38:44.881  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:38:44.897  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:38:44.918  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:38:46.262  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:38:46.304  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:38:46.307  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:38:46.311  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:38:46.316  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:38:46.332  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:38:46.360 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:38:48.504  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:38:48.508  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:38:49.679  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:49.683  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:38:49.879  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 182 ms. Found 1 JPA repository interfaces.
2025-08-12 03:38:49.902  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:49.904  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:38:49.919  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:38:49.921  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-08-12 03:38:50.717  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:38:50.734  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:38:50.736  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:38:50.826  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:38:50.827  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2244 ms
2025-08-12 03:38:51.141  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:38:51.142  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:38:51.143  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:38:51.162  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:38:51.420  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:38:51.446  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:38:51.464  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:38:51.524  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.042s)
2025-08-12 03:38:51.545  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:38:51.548  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:38:51.714  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:38:51.794  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:38:52.080  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:38:52.295  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:38:52.924  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:38:52.932  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:38:52.951  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:38:54.193  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:38:54.222  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:38:54.226  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:38:54.233  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:38:54.237  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:38:54.257  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:38:54.290 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:38:56.475  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:38:56.477  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:38:57.358  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:57.361  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:38:57.514  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 144 ms. Found 1 JPA repository interfaces.
2025-08-12 03:38:57.547  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:38:57.550  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:38:57.570  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:38:57.572  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-08-12 03:38:58.332  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:38:58.346  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:38:58.347  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:38:58.421  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:38:58.423  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1897 ms
2025-08-12 03:38:58.636  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:38:58.637  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:38:58.638  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:38:58.657  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:38:58.856  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:38:58.877  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:38:58.898  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:38:58.953  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.031s)
2025-08-12 03:38:58.975  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:38:58.977  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:38:59.088  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:38:59.145  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:38:59.324  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:38:59.458  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:39:00.410  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:39:00.428  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:00.472  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:39:01.693  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:39:01.720  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:01.722  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:39:01.725  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:39:01.734  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:39:01.752  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:39:01.776 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:39:04.620  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:39:04.626  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:39:05.690  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:05.693  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:39:05.881  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 178 ms. Found 1 JPA repository interfaces.
2025-08-12 03:39:05.908  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:05.912  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:39:05.929  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:39:05.931  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-12 03:39:06.760  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:39:06.779  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:39:06.781  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:39:06.872  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:39:06.873  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2177 ms
2025-08-12 03:39:07.093  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:39:07.094  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:39:07.096  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:39:07.121  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:39:07.413  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:39:07.447  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:39:07.474  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:39:07.580  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.074s)
2025-08-12 03:39:07.609  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:39:07.612  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:39:07.757  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:39:07.876  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:39:08.078  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:39:08.226  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:39:08.881  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:39:08.889  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:08.916  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:39:10.373  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:39:10.405  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:10.411  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:39:10.417  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:39:10.423  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:39:10.443  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:39:10.475 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:39:13.613  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:39:13.617  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:39:14.671  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:14.676  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:39:14.869  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 173 ms. Found 1 JPA repository interfaces.
2025-08-12 03:39:14.895  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:14.898  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:39:14.924  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:39:14.926  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-12 03:39:15.636  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:39:15.651  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:39:15.652  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:39:15.742  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:39:15.744  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2054 ms
2025-08-12 03:39:15.933  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:39:15.934  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:39:15.936  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:39:15.947  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:39:16.200  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:39:16.229  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:39:16.250  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:39:16.317  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.051s)
2025-08-12 03:39:16.336  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:39:16.339  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:39:16.455  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:39:16.524  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:39:16.700  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:39:16.821  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:39:17.534  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:39:17.543  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:17.567  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:39:18.743  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:39:18.771  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:18.776  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:39:18.781  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:39:18.785  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:39:18.799  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:39:18.830 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:39:23.776  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:39:23.781  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:39:25.122  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:25.126  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:39:25.291  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154 ms. Found 1 JPA repository interfaces.
2025-08-12 03:39:25.337  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:25.341  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:39:25.376  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:39:25.379  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-12 03:39:26.177  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:39:26.195  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:39:26.197  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:39:26.275  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:39:26.275  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2404 ms
2025-08-12 03:39:26.516  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:39:26.518  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:39:26.519  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:39:26.537  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:39:26.837  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:39:26.867  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:39:26.886  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:39:26.953  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.045s)
2025-08-12 03:39:26.967  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:39:26.970  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:39:27.077  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:39:27.155  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:39:27.362  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:39:27.492  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:39:28.119  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:39:28.129  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:28.147  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:39:29.498  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:39:29.519  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:29.521  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:39:29.527  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:39:29.531  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:39:29.542  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:39:29.569 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:39:37.957  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:39:37.963  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:39:39.201  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:39.205  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:39:39.388  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 167 ms. Found 1 JPA repository interfaces.
2025-08-12 03:39:39.418  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:39:39.421  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:39:39.443  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:39:39.445  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-08-12 03:39:40.542  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:39:40.576  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:39:40.578  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:39:40.770  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:39:40.772  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2736 ms
2025-08-12 03:39:41.271  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:39:41.272  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:39:41.275  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:39:41.306  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:39:41.699  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:39:41.727  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:39:41.751  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:39:41.841  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.065s)
2025-08-12 03:39:41.873  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:39:41.877  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:39:42.105  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:39:42.279  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:39:42.794  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:39:43.290  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:39:44.052  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:39:44.060  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:44.079  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:39:45.302  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:39:45.331  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:39:45.334  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:39:45.341  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:39:45.345  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:39:45.359  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:39:45.383 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:40:00.274  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:40:00.279  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:40:01.592  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:40:01.598  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:40:01.804  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 1 JPA repository interfaces.
2025-08-12 03:40:01.836  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:40:01.840  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:40:01.864  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:40:01.866  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-12 03:40:02.806  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:40:02.826  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:40:02.827  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:40:02.908  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:40:02.909  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2553 ms
2025-08-12 03:40:03.224  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:40:03.225  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:40:03.228  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:40:03.245  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:40:03.530  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:40:03.563  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:40:03.583  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:40:03.653  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.049s)
2025-08-12 03:40:03.676  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:40:03.679  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:40:03.829  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:40:03.926  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:40:04.238  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:40:04.381  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:40:05.114  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:40:05.127  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:40:05.159  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:40:07.104  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:40:07.128  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:40:07.132  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:40:07.136  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:40:07.140  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:40:07.156  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:40:07.187 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:40:35.642  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:40:35.654  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:40:37.356  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:40:37.359  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:40:37.721  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 349 ms. Found 1 JPA repository interfaces.
2025-08-12 03:40:37.797  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:40:37.801  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:40:37.868  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:40:37.873  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-08-12 03:40:39.256  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:40:39.310  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:40:39.313  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:40:39.695  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:40:39.696  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3964 ms
2025-08-12 03:40:40.443  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:40:40.444  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:40:40.447  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:40:40.474  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:40:41.045  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:40:41.127  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:40:41.162  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:40:41.392  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.168s)
2025-08-12 03:40:41.427  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:40:41.431  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:40:41.766  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:40:41.880  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:40:42.440  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:40:42.610  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:40:43.385  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:40:43.398  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:40:43.429  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:40:45.335  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:40:45.372  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:40:45.376  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:40:45.424  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:40:45.429  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:40:45.450  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:40:45.482 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:40:48.404  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:40:48.409  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:40:49.702  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:40:49.729  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:40:49.978  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 238 ms. Found 1 JPA repository interfaces.
2025-08-12 03:40:50.010  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:40:50.013  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:40:50.047  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:40:50.049  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-08-12 03:40:50.976  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:40:50.994  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:40:50.996  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:40:51.092  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:40:51.095  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2603 ms
2025-08-12 03:40:51.354  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:40:51.355  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:40:51.357  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:40:51.381  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:40:51.662  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:40:51.691  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:40:51.707  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:40:51.782  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.052s)
2025-08-12 03:40:51.802  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:40:51.805  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:40:51.960  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:40:52.038  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:40:52.270  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:40:52.429  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:40:53.055  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:40:53.068  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:40:53.086  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:40:54.910  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:40:54.958  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:40:54.964  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:40:54.970  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:40:54.974  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:40:54.995  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:40:55.031 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:40:59.639  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:40:59.644  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:41:00.438  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:41:00.441  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:41:00.560  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 109 ms. Found 1 JPA repository interfaces.
2025-08-12 03:41:00.579  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:41:00.582  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:41:00.595  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:41:00.652  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 60 ms. Found 0 Redis repository interfaces.
2025-08-12 03:41:01.239  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:41:01.248  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:41:01.249  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:41:01.300  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:41:01.300  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1594 ms
2025-08-12 03:41:01.440  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:41:01.442  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:41:01.447  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:41:01.458  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:41:01.638  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:41:01.657  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:41:01.670  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:41:01.711  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.026s)
2025-08-12 03:41:01.722  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:41:01.724  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:41:01.801  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:41:01.847  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:41:01.999  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:41:02.094  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:41:02.971  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:41:02.984  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:41:03.019  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:41:04.249  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:41:04.297  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:41:04.300  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:41:04.306  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:41:04.312  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-08-12 03:41:04.330  INFO 1 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-08-12 03:41:04.349 ERROR 1 --- [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Field redisTemplate in com.correos.masivos.email.config.RedisHealthChecker required a bean of type 'org.springframework.data.redis.core.RedisTemplate' that could not be found.

The injection point has the following annotations:
	- @org.springframework.beans.factory.annotation.Autowired(required=true)


Action:

Consider defining a bean of type 'org.springframework.data.redis.core.RedisTemplate' in your configuration.

2025-08-12 03:41:06.944  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 7db406df2bdf with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:41:06.953  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:41:08.253  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:41:08.257  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:41:08.426  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 156 ms. Found 1 JPA repository interfaces.
2025-08-12 03:41:08.458  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:41:08.461  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:41:08.481  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:41:08.482  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-08-12 03:41:09.563  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:41:09.652  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2598 ms
2025-08-12 03:41:09.879  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:41:09.880  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:41:09.882  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:41:09.893  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:41:10.072  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:41:10.090  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:41:10.103  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:41:10.160  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.042s)
2025-08-12 03:41:10.170  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:41:10.172  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:41:10.262  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:41:10.322  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:41:10.512  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:41:10.635  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:41:11.415  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:41:11.438  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:41:11.490  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:41:12.981  WARN 1 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'redisHealthChecker': Unsatisfied dependency expressed through field 'redisTemplate'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.data.redis.core.RedisTemplate<java.lang.String, java.lang.Object>' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}
2025-08-12 03:41:13.008  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:41:13.011  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:41:13.016  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:41:16.815  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 28fdc2827c8b with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:41:16.818  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:41:18.012  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:41:18.015  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:41:18.224  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 194 ms. Found 1 JPA repository interfaces.
2025-08-12 03:41:18.249  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:41:18.251  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:41:18.268  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:41:18.270  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-08-12 03:41:19.153  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:41:19.169  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:41:19.170  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:41:19.261  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:41:19.263  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2394 ms
2025-08-12 03:41:19.484  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:41:19.485  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:41:19.487  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:41:19.510  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:41:19.757  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:41:19.784  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:41:19.804  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:41:19.883  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.048s)
2025-08-12 03:41:19.903  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:41:19.907  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:41:20.029  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:41:20.111  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:41:20.326  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:41:20.459  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:41:21.058  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:41:21.067  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:41:21.095  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:41:22.475  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1682c08c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fd05b3e, org.springframework.security.web.context.SecurityContextPersistenceFilter@7316523a, org.springframework.security.web.header.HeaderWriterFilter@1acb74ad, org.springframework.web.filter.CorsFilter@4eb9f2af, org.springframework.security.web.authentication.logout.LogoutFilter@228bda54, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73a8e994, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b5ac798, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a481728, org.springframework.security.web.session.SessionManagementFilter@42505474, org.springframework.security.web.access.ExceptionTranslationFilter@6d08b4e6, org.springframework.security.web.access.intercept.AuthorizationFilter@72eb6200]
2025-08-12 03:41:22.578  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:41:23.005 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 03:41:23.007 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 03:41:23.187  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:41:23.190  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:41:23.251  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#40a72ecd:0/SimpleConnection@65514add [delegate=amqp://admin@172.18.0.4:5672/, localPort= 56366]
2025-08-12 03:41:23.350  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 7.494 seconds (JVM running for 9.146)
2025-08-12 03:41:23.356  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 03:41:23.792 ERROR 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ❌ Redis connection failed: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
2025-08-12 03:41:23.793 ERROR 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ⚠️ EMAIL SERVICE STARTED BUT REDIS NOT AVAILABLE!
2025-08-12 03:43:22.671  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 03:43:23.381  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 03:43:23.460 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 03:43:23.601  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:43:23.608  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:43:23.615  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:43:27.137  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 49d8f8cae0f1 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:43:27.143  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:43:28.240  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:43:28.244  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:43:28.414  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160 ms. Found 1 JPA repository interfaces.
2025-08-12 03:43:28.446  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:43:28.449  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:43:28.465  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:43:28.467  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-08-12 03:43:29.474  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:43:29.489  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:43:29.491  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:43:29.624  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:43:29.625  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2416 ms
2025-08-12 03:43:29.853  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:43:29.854  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:43:29.855  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:43:29.876  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:43:30.130  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:43:30.159  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:43:30.175  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:43:30.248  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.046s)
2025-08-12 03:43:30.267  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:43:30.270  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:43:30.410  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:43:30.491  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:43:30.694  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:43:30.834  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:43:31.388  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:43:31.396  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:43:31.423  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:43:32.840  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d33a66e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f14b0f6, org.springframework.security.web.context.SecurityContextPersistenceFilter@75b6dd5b, org.springframework.security.web.header.HeaderWriterFilter@4364863, org.springframework.web.filter.CorsFilter@5b20706, org.springframework.security.web.authentication.logout.LogoutFilter@4ace284d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72b43104, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d0e54e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16aed49f, org.springframework.security.web.session.SessionManagementFilter@d2e6b0b, org.springframework.security.web.access.ExceptionTranslationFilter@a83495d, org.springframework.security.web.access.intercept.AuthorizationFilter@7d17ee50]
2025-08-12 03:43:32.961  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:43:33.357 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 03:43:33.359 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 03:43:33.504  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:43:33.508  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:43:33.596  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#44be69aa:0/SimpleConnection@3b009e7b [delegate=amqp://admin@172.18.0.4:5672/, localPort= 60180]
2025-08-12 03:43:33.719  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 7.699 seconds (JVM running for 8.936)
2025-08-12 03:43:33.726  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 03:43:34.150 ERROR 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ❌ Redis connection failed: Unable to connect to Redis; nested exception is io.lettuce.core.RedisConnectionException: Unable to connect to localhost/<unresolved>:6379
2025-08-12 03:43:34.152 ERROR 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ⚠️ EMAIL SERVICE STARTED BUT REDIS NOT AVAILABLE!
2025-08-12 03:47:24.901  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 03:47:25.792  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 03:47:25.820 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 03:47:25.949  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:47:25.953  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:47:25.957  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:47:29.916  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on fe2f1a937504 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:47:29.921  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:47:31.494  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:47:31.500  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:47:31.678  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 167 ms. Found 1 JPA repository interfaces.
2025-08-12 03:47:31.698  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:47:31.700  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:47:31.716  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:47:31.717  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-08-12 03:47:32.776  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:47:32.807  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:47:32.810  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:47:32.950  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:47:32.951  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2944 ms
2025-08-12 03:47:33.282  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:47:33.284  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:47:33.288  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:47:33.337  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:47:33.646  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:47:33.677  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:47:33.709  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:47:33.824  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.080s)
2025-08-12 03:47:33.860  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:47:33.865  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:47:34.083  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:47:34.267  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:47:34.665  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:47:34.818  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:47:35.372  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:47:35.382  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:47:35.403  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:47:36.897  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a1cc163, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b5ac798, org.springframework.security.web.context.SecurityContextPersistenceFilter@772caabe, org.springframework.security.web.header.HeaderWriterFilter@56476c16, org.springframework.web.filter.CorsFilter@42383cb0, org.springframework.security.web.authentication.logout.LogoutFilter@6d08b4e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7102ac3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2db2a05f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7668892a, org.springframework.security.web.session.SessionManagementFilter@2dbfcf7, org.springframework.security.web.access.ExceptionTranslationFilter@3178219a, org.springframework.security.web.access.intercept.AuthorizationFilter@7316523a]
2025-08-12 03:47:37.023  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:47:37.514 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 03:47:37.517 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 03:47:37.703  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:47:37.708  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:47:37.798  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6bccd036:0/SimpleConnection@22bf9122 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 39480]
2025-08-12 03:47:37.914  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 9.194 seconds (JVM running for 10.789)
2025-08-12 03:47:37.920  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 03:47:38.426  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 03:47:38.428 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:38.443 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:38.444 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:38.450 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:38.452 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:38.494 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:38.495  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 03:47:38.496  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 03:47:47.864  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 03:47:47.865  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 03:47:47.868  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-12 03:47:48.200 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:48.213 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:48.215  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 03:47:48.216 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:48.219 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:48.220  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 03:47:48.221 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:48.223 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:48.227  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=Bienvenido {{first_name}}
2025-08-12 03:47:50.345  INFO 1 --- [ForkJoinPool.commonPool-worker-1] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: bb8d49f5-ea1f-47fc-b158-26087bfe3c6b
2025-08-12 03:47:50.348 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:50.358 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:50.362 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:47:50.385 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:47:50.386  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 03:57:43.913  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 03:57:44.648  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 03:57:44.688 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 03:57:44.859  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:57:44.874  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 03:57:44.889  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 03:58:13.540  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on ff37a7b1156d with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 03:58:13.565  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 03:58:21.841  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:58:21.864  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 03:58:22.685  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 745 ms. Found 1 JPA repository interfaces.
2025-08-12 03:58:22.765  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 03:58:22.779  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 03:58:22.891  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 03:58:22.905  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 0 Redis repository interfaces.
2025-08-12 03:58:27.807  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 03:58:27.875  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 03:58:27.884  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 03:58:28.471  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 03:58:28.480  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14290 ms
2025-08-12 03:58:30.240  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 03:58:30.254  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 03:58:30.257  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 03:58:30.482  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 03:58:31.580  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 03:58:31.653  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 03:58:31.740  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 03:58:32.162  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.298s)
2025-08-12 03:58:32.215  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 03:58:32.226  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 03:58:32.741  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 03:58:33.100  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 03:58:34.139  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 03:58:34.748  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 03:58:37.191  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 03:58:37.233  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 03:58:37.323  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 03:58:41.877  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e83992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4364863, org.springframework.security.web.context.SecurityContextPersistenceFilter@695c938d, org.springframework.security.web.header.HeaderWriterFilter@45b15381, org.springframework.web.filter.CorsFilter@3625a016, org.springframework.security.web.authentication.logout.LogoutFilter@12b5736c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ed3df3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b960b5b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@267cde2e, org.springframework.security.web.session.SessionManagementFilter@7102ac3e, org.springframework.security.web.access.ExceptionTranslationFilter@3ba348ca, org.springframework.security.web.access.intercept.AuthorizationFilter@42383cb0]
2025-08-12 03:58:42.187  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 03:58:43.072 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 03:58:43.077 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 03:58:43.369  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 03:58:43.376  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 03:58:43.652  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#cb39552:0/SimpleConnection@671d03bb [delegate=amqp://admin@172.18.0.4:5672/, localPort= 35932]
2025-08-12 03:58:43.830  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 34.141 seconds (JVM running for 38.775)
2025-08-12 03:58:43.840  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 03:58:44.434  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 03:58:44.436 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:58:44.449 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:58:44.451 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:58:44.456 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:58:44.458 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:58:44.464 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:58:44.465  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 03:58:44.467  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 03:59:07.925  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 03:59:07.927  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 03:59:07.930  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-12 03:59:08.300 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:59:08.311 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:59:08.312  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 03:59:08.313 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:59:08.316 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:59:08.317  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 03:59:08.317 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:59:08.319 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:59:08.324  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=Hola Prueba
2025-08-12 03:59:10.434  INFO 1 --- [ForkJoinPool.commonPool-worker-1] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: e6cc4533-6eac-41b2-9e1e-8010a504be05
2025-08-12 03:59:10.438 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:59:10.455 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:59:10.459 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 03:59:10.462 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 03:59:10.463  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 04:19:25.771  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=15, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:19:25.820 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.835 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.835  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:19:25.836 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.838 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.838  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:19:25.839 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.841 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.842  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=ofertas
2025-08-12 04:19:25.858 ERROR 1 --- [ForkJoinPool.commonPool-worker-2] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:19:25.859 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:19:25.872  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=15, recipientId=95, status=FAILED
2025-08-12 04:19:25.874  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Reintentando trabajo de email: retry=1/3, delay=2s
2025-08-12 04:19:25.876  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Enviando trabajo de email programado para: 2025-08-12T04:19:27.874733991
2025-08-12 04:19:25.917  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=15, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:19:25.920 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.921 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.922  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:19:25.922 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.923 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.924  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:19:25.924 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.925 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.926  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=ofertas
2025-08-12 04:19:25.931 ERROR 1 --- [ForkJoinPool.commonPool-worker-2] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:19:25.932 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:19:25.937  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=15, recipientId=95, status=FAILED
2025-08-12 04:19:25.938  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Reintentando trabajo de email: retry=2/3, delay=4s
2025-08-12 04:19:25.939  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Enviando trabajo de email programado para: 2025-08-12T04:19:29.938320842
2025-08-12 04:19:25.942  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=15, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:19:25.945 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.947 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.948  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:19:25.948 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.950 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.950  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:19:25.951 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.952 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.953  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=ofertas
2025-08-12 04:19:25.958 ERROR 1 --- [ForkJoinPool.commonPool-worker-2] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:19:25.959 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:19:25.964  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=15, recipientId=95, status=FAILED
2025-08-12 04:19:25.965  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Reintentando trabajo de email: retry=3/3, delay=8s
2025-08-12 04:19:25.965  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Enviando trabajo de email programado para: 2025-08-12T04:19:33.965312638
2025-08-12 04:19:25.969  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=15, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:19:25.973 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.974 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.975  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:19:25.975 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.980 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.981  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:19:25.981 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:19:25.982 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:19:25.983  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=ofertas
2025-08-12 04:19:25.988 ERROR 1 --- [ForkJoinPool.commonPool-worker-2] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:19:25.990 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:19:25.996  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=15, recipientId=95, status=FAILED
2025-08-12 04:21:27.244 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:21:27.250 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:21:27.251  INFO 1 --- [http-nio-8084-exec-5] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:21:27.252 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:21:27.254 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:21:27.255  INFO 1 --- [http-nio-8084-exec-5] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:21:27.255 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:21:27.257 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:21:27.261  INFO 1 --- [http-nio-8084-exec-5] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=Hola Prueba
2025-08-12 04:21:29.112  INFO 1 --- [ForkJoinPool.commonPool-worker-3] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: 37470e3d-6b87-4c62-84c5-3793f4e989d4
2025-08-12 04:21:29.114 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:21:29.121 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:21:29.123 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:21:29.129 DEBUG 1 --- [http-nio-8084-exec-5] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:21:29.130  INFO 1 --- [http-nio-8084-exec-5] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 04:26:39.457  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=16, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:26:39.472 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.475 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.476  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:26:39.477 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.480 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.482  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:26:39.483 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.486 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.487  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=novedades
2025-08-12 04:26:39.501 ERROR 1 --- [ForkJoinPool.commonPool-worker-4] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:26:39.502 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:26:39.511  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=16, recipientId=95, status=FAILED
2025-08-12 04:26:39.513  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Reintentando trabajo de email: retry=1/3, delay=2s
2025-08-12 04:26:39.513  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Enviando trabajo de email programado para: 2025-08-12T04:26:41.513233171
2025-08-12 04:26:39.520  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=16, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:26:39.524 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.526 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.527  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:26:39.527 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.529 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.530  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:26:39.530 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.532 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.533  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=novedades
2025-08-12 04:26:39.541 ERROR 1 --- [ForkJoinPool.commonPool-worker-4] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:26:39.545 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:26:39.556  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=16, recipientId=95, status=FAILED
2025-08-12 04:26:39.558  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Reintentando trabajo de email: retry=2/3, delay=4s
2025-08-12 04:26:39.558  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Enviando trabajo de email programado para: 2025-08-12T04:26:43.558163720
2025-08-12 04:26:39.561  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=16, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:26:39.564 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.566 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.566  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:26:39.566 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.568 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.568  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:26:39.569 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.570 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.571  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=novedades
2025-08-12 04:26:39.583 ERROR 1 --- [ForkJoinPool.commonPool-worker-4] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:26:39.586 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:26:39.592  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=16, recipientId=95, status=FAILED
2025-08-12 04:26:39.592  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Reintentando trabajo de email: retry=3/3, delay=8s
2025-08-12 04:26:39.593  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.masivos.queue.service.QueueService   : Enviando trabajo de email programado para: 2025-08-12T04:26:47.592799079
2025-08-12 04:26:39.597  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=16, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:26:39.600 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.602 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.602  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:26:39.603 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.607 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.608  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:26:39.611 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:26:39.620 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:26:39.622  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=novedades
2025-08-12 04:26:39.628 ERROR 1 --- [ForkJoinPool.commonPool-worker-4] c.c.m.e.i.smtp.ResendEmailService        : Error enviando email via Resend SMTP: Plain text must not be null
2025-08-12 04:26:39.629 ERROR 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Falló envío de email a j.boderoc@gmail.com - todos los proveedores fallaron
2025-08-12 04:26:39.633  WARN 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email falló: campaignId=16, recipientId=95, status=FAILED
2025-08-12 04:32:11.729  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 04:32:11.756  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 04:32:11.851 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 04:32:12.088  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 04:32:12.112  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 04:32:12.118  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 04:32:17.906  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 6aebd8054f96 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 04:32:17.911  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 04:32:19.289  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 04:32:19.292  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 04:32:19.458  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 155 ms. Found 1 JPA repository interfaces.
2025-08-12 04:32:19.472  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 04:32:19.474  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 04:32:19.491  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 04:32:19.493  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-08-12 04:32:20.683  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 04:32:20.701  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 04:32:20.703  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 04:32:20.833  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 04:32:20.834  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2836 ms
2025-08-12 04:32:21.099  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 04:32:21.100  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 04:32:21.102  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 04:32:21.131  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 04:32:21.441  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 04:32:21.463  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 04:32:21.473  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 04:32:21.526  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.027s)
2025-08-12 04:32:21.541  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 04:32:21.545  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 04:32:21.634  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 04:32:21.711  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 04:32:21.891  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 04:32:22.007  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 04:32:22.725  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 04:32:22.750  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 04:32:22.792  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 04:32:26.058  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3625a016, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@267cde2e, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ed3df3b, org.springframework.security.web.header.HeaderWriterFilter@239f017e, org.springframework.web.filter.CorsFilter@609e57da, org.springframework.security.web.authentication.logout.LogoutFilter@2cd4e16a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b960b5b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7bd96822, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56dd6efa, org.springframework.security.web.session.SessionManagementFilter@2db2a05f, org.springframework.security.web.access.ExceptionTranslationFilter@45b15381, org.springframework.security.web.access.intercept.AuthorizationFilter@a83495d]
2025-08-12 04:32:26.161  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 04:32:26.602 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 04:32:26.604 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 04:32:26.743  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 04:32:26.747  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 04:32:26.798  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2a53f215:0/SimpleConnection@2173a742 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 52442]
2025-08-12 04:32:26.871  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 10.186 seconds (JVM running for 12.847)
2025-08-12 04:32:26.876  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 04:32:27.429  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 04:32:27.431 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:27.438 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:27.439 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:27.444 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:27.446 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:27.451 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:27.452  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 04:32:27.453  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 04:32:45.500  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Procesando trabajo de email: campaignId=17, recipientId=95, email=j.boderoc@gmail.com
2025-08-12 04:32:45.567 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:45.583 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:45.584  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:32:45.584 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:45.586 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:45.587  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:32:45.588 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:45.590 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:45.596  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=ofertas
2025-08-12 04:32:47.664  INFO 1 --- [ForkJoinPool.commonPool-worker-1] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: 9bfd3592-7cc2-4861-ac1f-07da9ce4c5bb
2025-08-12 04:32:47.666 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:47.675 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:47.679 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:32:47.682 DEBUG 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:32:47.683  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 04:32:47.726  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] c.c.m.email.listener.EmailJobListener    : Email enviado exitosamente: campaignId=17, recipientId=95
2025-08-12 04:35:18.911  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 04:35:18.915  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 04:35:18.922  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-08-12 04:35:19.095 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:35:19.099 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:35:19.100  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 04:35:19.101 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:35:19.102 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:35:19.103  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 04:35:19.104 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:35:19.106 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:35:19.109  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=Nuevo TVBOX
2025-08-12 04:35:20.909  INFO 1 --- [ForkJoinPool.commonPool-worker-2] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: e73a7d46-f549-4333-b03d-b5b592182a6f
2025-08-12 04:35:20.911 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:35:20.914 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:35:20.914 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 04:35:20.916 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 04:35:20.917  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 05:16:25.448  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 05:16:25.558  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 05:16:25.723 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 05:16:26.085  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 05:16:26.103  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 05:16:26.110  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 05:16:36.127  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on b37daa5d20b6 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 05:16:36.151  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 05:16:41.870  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 05:16:41.885  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 05:16:43.011  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1075 ms. Found 1 JPA repository interfaces.
2025-08-12 05:16:43.103  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 05:16:43.112  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 05:16:43.180  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 05:16:43.186  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2025-08-12 05:16:48.653  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 05:16:48.724  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 05:16:48.750  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 05:16:49.402  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 05:16:49.431  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 12979 ms
2025-08-12 05:16:51.406  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 05:16:51.418  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 05:16:51.426  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 05:16:51.642  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 05:16:53.328  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 05:16:53.481  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 05:16:53.538  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 05:16:54.044  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.265s)
2025-08-12 05:16:54.119  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 05:16:54.125  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 05:16:54.894  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 05:16:55.818  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 05:16:56.682  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 05:16:57.147  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 05:17:00.173  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 05:17:00.223  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 05:17:00.317  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 05:17:08.237  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a1cc163, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b5ac798, org.springframework.security.web.context.SecurityContextPersistenceFilter@772caabe, org.springframework.security.web.header.HeaderWriterFilter@56476c16, org.springframework.web.filter.CorsFilter@42383cb0, org.springframework.security.web.authentication.logout.LogoutFilter@6d08b4e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7102ac3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2db2a05f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7668892a, org.springframework.security.web.session.SessionManagementFilter@2dbfcf7, org.springframework.security.web.access.ExceptionTranslationFilter@3178219a, org.springframework.security.web.access.intercept.AuthorizationFilter@7316523a]
2025-08-12 05:17:09.073  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 05:17:11.806 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 05:17:11.811 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 05:17:12.436  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 05:17:12.446  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 05:17:12.668  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2806d6da:0/SimpleConnection@73afe2b7 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 56568]
2025-08-12 05:17:12.819  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 40.132 seconds (JVM running for 43.895)
2025-08-12 05:17:12.830  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 05:17:13.654  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 05:17:13.661 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:17:13.672 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:17:13.674 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:17:13.677 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:17:13.679 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:17:13.682 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:17:13.683  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 05:17:13.684  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 05:30:08.673  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 05:30:09.228  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 05:30:11.313 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 05:30:46.927  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 470e3aa5de06 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 05:30:47.011  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 05:30:57.411  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 05:30:57.423  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 05:30:58.476  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 988 ms. Found 1 JPA repository interfaces.
2025-08-12 05:30:58.601  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 05:30:58.614  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 05:30:58.685  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 05:30:58.693  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-08-12 05:31:08.289  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 05:31:09.112  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 05:31:09.274  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 05:31:10.764  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 05:31:10.776  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 22867 ms
2025-08-12 05:31:12.883  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 05:31:12.893  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 05:31:12.899  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 05:31:12.968  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 05:31:14.765  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 05:31:15.136  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 05:31:15.198  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 05:31:16.328  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.200s)
2025-08-12 05:31:16.443  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 05:31:16.465  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 05:31:17.561  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 05:31:18.171  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 05:31:19.147  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 05:31:19.591  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 05:31:21.733  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 05:31:21.774  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 05:31:21.864  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 05:31:29.378  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7668892a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a83495d, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f598450, org.springframework.security.web.header.HeaderWriterFilter@3ba348ca, org.springframework.web.filter.CorsFilter@7e83992, org.springframework.security.web.authentication.logout.LogoutFilter@7bf01cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@695c938d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ed3df3b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4364863, org.springframework.security.web.session.SessionManagementFilter@772caabe, org.springframework.security.web.access.ExceptionTranslationFilter@497b560e, org.springframework.security.web.access.intercept.AuthorizationFilter@1a1cc163]
2025-08-12 05:31:30.251  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 05:31:32.103 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 05:31:32.108 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 05:31:32.407  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 05:31:32.415  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 05:31:32.503  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4f4c88f9:0/SimpleConnection@671d03bb [delegate=amqp://admin@172.18.0.4:5672/, localPort= 59456]
2025-08-12 05:31:32.629  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 51.06 seconds (JVM running for 73.089)
2025-08-12 05:31:32.640  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 05:31:33.280  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 05:31:33.287 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:31:33.305 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:31:33.307 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:31:33.316 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:31:33.323 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:31:33.330 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:31:33.331  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 05:31:33.333  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 05:33:20.186  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 05:33:20.190  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 05:33:20.198  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2025-08-12 05:34:07.018 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:34:07.030 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:34:07.031  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 05:34:07.032 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:34:07.034 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:34:07.034  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 05:34:07.035 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:34:07.036 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:34:07.041  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=Nuevo TVBOX
2025-08-12 05:34:09.014  INFO 1 --- [ForkJoinPool.commonPool-worker-1] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: 2f568477-2732-48a6-a904-87b1b647ea13
2025-08-12 05:34:09.015 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:34:09.021 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:34:09.024 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 05:34:09.033 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 05:34:09.034  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 13:40:47.358  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 13:40:48.260  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 13:40:48.329 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 13:40:48.598  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:40:48.606  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 13:40:48.612  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 13:40:56.266  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 35a617bfe73e with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 13:40:56.283  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 13:41:01.284  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:41:01.300  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 13:41:02.213  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 856 ms. Found 1 JPA repository interfaces.
2025-08-12 13:41:02.289  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:41:02.298  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 13:41:02.378  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 13:41:02.382  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-08-12 13:41:06.776  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 13:41:06.865  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 13:41:06.875  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 13:41:07.544  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 13:41:07.556  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 10918 ms
2025-08-12 13:41:09.347  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 13:41:09.349  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 13:41:09.359  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 13:41:09.450  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 13:41:11.243  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 13:41:11.406  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 13:41:11.479  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 13:41:11.727  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.166s)
2025-08-12 13:41:11.824  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 13:41:11.829  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 13:41:12.626  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 13:41:13.089  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 13:41:14.021  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 13:41:14.435  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 13:41:16.414  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 13:41:16.472  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:41:16.560  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 13:41:23.702  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7316523a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33a55bd8, org.springframework.security.web.context.SecurityContextPersistenceFilter@2dbfcf7, org.springframework.security.web.header.HeaderWriterFilter@777d0bc3, org.springframework.web.filter.CorsFilter@73a8e994, org.springframework.security.web.authentication.logout.LogoutFilter@1e4c6583, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38cedb7d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2acdcce8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a1cc163, org.springframework.security.web.session.SessionManagementFilter@3ba348ca, org.springframework.security.web.access.ExceptionTranslationFilter@6e0e5dec, org.springframework.security.web.access.intercept.AuthorizationFilter@42505474]
2025-08-12 13:41:24.055  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 13:41:25.494 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 13:41:25.509 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 13:41:25.985  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 13:41:25.993  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 13:41:26.127  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#62b790a5:0/SimpleConnection@3d88e6b9 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 60900]
2025-08-12 13:41:26.274  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 32.518 seconds (JVM running for 36.283)
2025-08-12 13:41:26.284  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 13:41:27.049  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 13:41:27.052 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:41:27.059 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:41:27.061 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:41:27.064 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:41:27.065 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:41:27.077 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:41:27.077  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 13:41:27.078  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 13:42:13.321  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 13:42:13.323  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 13:42:13.330  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-08-12 13:42:15.271 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:42:15.284 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:42:15.285  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 13:42:15.286 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:42:15.289 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:42:15.290  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 13:42:15.291 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:42:15.294 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:42:15.298  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=Nuevo TVBOX
2025-08-12 13:42:17.584  INFO 1 --- [ForkJoinPool.commonPool-worker-1] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: abc96251-b9ef-46b3-97f0-b100d64340b7
2025-08-12 13:42:17.585 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:42:17.589 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:42:17.593 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:42:17.595 DEBUG 1 --- [http-nio-8084-exec-4] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:42:17.596  INFO 1 --- [http-nio-8084-exec-4] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 13:47:35.054  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 13:47:35.381  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 13:47:35.395 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 13:47:35.539  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:47:35.543  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 13:47:35.551  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 13:47:38.931  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 53b151b15527 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 13:47:38.936  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 13:47:39.976  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:47:39.978  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 13:47:40.161  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 170 ms. Found 1 JPA repository interfaces.
2025-08-12 13:47:40.179  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:47:40.182  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 13:47:40.197  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 13:47:40.199  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-08-12 13:47:41.248  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 13:47:41.260  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 13:47:41.262  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 13:47:41.359  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 13:47:41.360  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2341 ms
2025-08-12 13:47:41.592  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 13:47:41.593  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 13:47:41.595  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 13:47:41.611  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 13:47:41.845  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 13:47:41.882  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 13:47:41.907  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 13:47:41.994  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.064s)
2025-08-12 13:47:42.018  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 13:47:42.022  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 13:47:42.228  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 13:47:42.311  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 13:47:42.520  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 13:47:42.643  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 13:47:43.343  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 13:47:43.354  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:47:43.383  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 1 email providers: Resend SMTP
2025-08-12 13:47:44.916  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42383cb0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7668892a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7102ac3e, org.springframework.security.web.header.HeaderWriterFilter@39ffda4a, org.springframework.web.filter.CorsFilter@a83495d, org.springframework.security.web.authentication.logout.LogoutFilter@1acb74ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2db2a05f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d5bb1c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e83992, org.springframework.security.web.session.SessionManagementFilter@38cedb7d, org.springframework.security.web.access.ExceptionTranslationFilter@56476c16, org.springframework.security.web.access.intercept.AuthorizationFilter@73a8e994]
2025-08-12 13:47:45.063  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 13:47:45.567 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 13:47:45.569 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 13:47:45.767  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 13:47:45.773  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 13:47:45.853  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1db7157f:0/SimpleConnection@73afe2b7 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 36600]
2025-08-12 13:47:45.973  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 7.909 seconds (JVM running for 9.141)
2025-08-12 13:47:45.979  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 13:47:46.450  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 13:47:46.453 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:47:46.466 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:47:46.467 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:47:46.470 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:47:46.471 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:47:46.475 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:47:46.475  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 13:47:46.476  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 13:47:58.142  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 13:47:58.144  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 13:47:58.146  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-12 13:47:58.600 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:47:58.611 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:47:58.612  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Available providers: Resend SMTP
2025-08-12 13:47:58.614 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:47:58.616 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:47:58.617  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Checking provider Resend SMTP: available=true, canSend=true
2025-08-12 13:47:58.619 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:47:58.621 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:47:58.625  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Enviando email via Resend SMTP: to=j.boderoc@gmail.com, subject=Nuevo TVBOX
2025-08-12 13:48:01.089  INFO 1 --- [ForkJoinPool.commonPool-worker-1] c.c.m.e.i.smtp.ResendEmailService        : Email enviado via Resend SMTP: 61e90300-3853-4c89-9048-6e2efde48f6b
2025-08-12 13:48:01.092 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:48:01.097 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:48:01.102 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:48:01.105 DEBUG 1 --- [http-nio-8084-exec-2] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:48:01.107  INFO 1 --- [http-nio-8084-exec-2] c.c.m.e.i.service.EmailServiceImpl       : Email enviado exitosamente via Resend SMTP
2025-08-12 13:52:11.196  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 13:52:12.046  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 13:52:12.067 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 13:52:12.207  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:52:12.211  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 13:52:12.214  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 13:52:15.906  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 5d94710705d3 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 13:52:15.910  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 13:52:16.842  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:52:16.847  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 13:52:17.113  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 244 ms. Found 1 JPA repository interfaces.
2025-08-12 13:52:17.132  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:52:17.134  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 13:52:17.151  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 13:52:17.153  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-08-12 13:52:17.939  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 13:52:17.960  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 13:52:17.962  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 13:52:18.070  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 13:52:18.071  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2107 ms
2025-08-12 13:52:18.340  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 13:52:18.342  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 13:52:18.344  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 13:52:18.363  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 13:52:18.607  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 13:52:18.631  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 13:52:18.656  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 13:52:18.738  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.048s)
2025-08-12 13:52:18.767  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 13:52:18.770  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 13:52:18.918  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 13:52:19.013  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 13:52:19.355  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 13:52:19.589  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 13:52:20.179  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 13:52:20.191  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:52:20.228  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 0 email providers: 
2025-08-12 13:52:21.894  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42383cb0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7668892a, org.springframework.security.web.context.SecurityContextPersistenceFilter@7102ac3e, org.springframework.security.web.header.HeaderWriterFilter@39ffda4a, org.springframework.web.filter.CorsFilter@a83495d, org.springframework.security.web.authentication.logout.LogoutFilter@1acb74ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2db2a05f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d5bb1c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e83992, org.springframework.security.web.session.SessionManagementFilter@38cedb7d, org.springframework.security.web.access.ExceptionTranslationFilter@56476c16, org.springframework.security.web.access.intercept.AuthorizationFilter@73a8e994]
2025-08-12 13:52:22.039  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 13:52:22.593 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 13:52:22.596 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 13:52:22.836  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 13:52:22.843  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 13:52:22.950  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1db7157f:0/SimpleConnection@5700c9db [delegate=amqp://admin@172.18.0.4:5672/, localPort= 42776]
2025-08-12 13:52:23.076  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 8.227 seconds (JVM running for 9.974)
2025-08-12 13:52:23.085  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 13:52:23.550  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 13:52:23.552 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:52:23.558 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:52:23.561 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:52:23.564 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:52:23.566 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:52:23.569 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:52:23.570  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 13:52:23.571  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 13:53:13.262  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 13:53:13.263  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 13:53:13.266  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-12 13:55:36.341  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 13:55:37.132  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 13:55:37.144 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 13:55:37.284  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:55:37.287  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 13:55:37.290  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 13:55:40.356  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on bd68dc264a27 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 13:55:40.362  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 13:55:41.338  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:55:41.342  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 13:55:41.554  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 202 ms. Found 1 JPA repository interfaces.
2025-08-12 13:55:41.574  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:55:41.577  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 13:55:41.592  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 13:55:41.594  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-08-12 13:55:42.543  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 13:55:42.554  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 13:55:42.556  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 13:55:42.644  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 13:55:42.646  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2230 ms
2025-08-12 13:55:42.954  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 13:55:42.956  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 13:55:42.958  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 13:55:42.975  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 13:55:43.309  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 13:55:43.337  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 13:55:43.385  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 13:55:43.506  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.070s)
2025-08-12 13:55:43.529  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 13:55:43.532  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 13:55:43.683  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 13:55:43.814  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 13:55:44.155  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 13:55:44.325  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 13:55:44.960  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 13:55:44.976  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:55:44.997  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 0 email providers: 
2025-08-12 13:55:46.585  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d634127, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d2e6b0b, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bd96822, org.springframework.security.web.header.HeaderWriterFilter@7102ac3e, org.springframework.web.filter.CorsFilter@1f1cddf3, org.springframework.security.web.authentication.logout.LogoutFilter@7316523a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fedf0a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ee48610, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@228bda54, org.springframework.security.web.session.SessionManagementFilter@465b38e6, org.springframework.security.web.access.ExceptionTranslationFilter@772caabe, org.springframework.security.web.access.intercept.AuthorizationFilter@267cde2e]
2025-08-12 13:55:46.758  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 13:55:47.318 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 13:55:47.321 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 13:55:47.529  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 13:55:47.533  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 13:55:47.604  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7beae796:0/SimpleConnection@77f4c040 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 35096]
2025-08-12 13:55:47.695  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 8.221 seconds (JVM running for 9.564)
2025-08-12 13:55:47.701  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 13:55:48.129  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 13:55:48.131 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:55:48.139 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:55:48.141 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:55:48.145 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:55:48.146 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:55:48.150 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:55:48.151  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 13:55:48.152  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 13:56:01.649  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 13:56:01.695  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 13:56:01.704 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 13:56:01.847  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:56:01.850  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 13:56:01.852  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 13:56:03.672  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on bd68dc264a27 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 13:56:03.680  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 13:56:04.529  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:56:04.532  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 13:56:04.681  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 1 JPA repository interfaces.
2025-08-12 13:56:04.697  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 13:56:04.699  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 13:56:04.720  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 13:56:04.726  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-12 13:56:05.556  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 13:56:05.574  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 13:56:05.576  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 13:56:05.673  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 13:56:05.675  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1937 ms
2025-08-12 13:56:05.997  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 13:56:05.998  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 13:56:06.000  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 13:56:06.019  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 13:56:06.321  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 13:56:06.356  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 13:56:06.391  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 13:56:06.513  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.082s)
2025-08-12 13:56:06.538  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 13:56:06.542  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 13:56:06.699  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 13:56:06.855  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 13:56:07.181  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 13:56:07.340  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 13:56:08.071  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 13:56:08.080  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 13:56:08.106  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 0 email providers: 
2025-08-12 13:56:09.671  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f1cddf3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@228bda54, org.springframework.security.web.context.SecurityContextPersistenceFilter@1fedf0a4, org.springframework.security.web.header.HeaderWriterFilter@2db2a05f, org.springframework.web.filter.CorsFilter@75b6dd5b, org.springframework.security.web.authentication.logout.LogoutFilter@73a8e994, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee48610, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d08b4e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b3e86d5, org.springframework.security.web.session.SessionManagementFilter@1b13467c, org.springframework.security.web.access.ExceptionTranslationFilter@7102ac3e, org.springframework.security.web.access.intercept.AuthorizationFilter@56dd6efa]
2025-08-12 13:56:09.851  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 13:56:10.356 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 13:56:10.360 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 13:56:10.581  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 13:56:10.590  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 13:56:10.656  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ae73c80:0/SimpleConnection@6a15b73 [delegate=amqp://admin@172.18.0.4:5672/, localPort= 59790]
2025-08-12 13:56:10.776  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 7.788 seconds (JVM running for 8.385)
2025-08-12 13:56:10.783  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 13:56:11.192  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 13:56:11.195 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:56:11.201 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:56:11.204 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:56:11.209 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:56:11.211 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 13:56:11.216 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 13:56:11.216  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 13:56:11.218  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 13:56:13.258  INFO 1 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-12 13:56:13.259  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-08-12 13:56:13.262  INFO 1 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-08-12 15:59:08.544  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on bd68dc264a27 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 15:59:08.592  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 15:59:16.150  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 15:59:16.167  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 15:59:17.384  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1139 ms. Found 1 JPA repository interfaces.
2025-08-12 15:59:17.527  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 15:59:17.545  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 15:59:17.660  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 15:59:17.665  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 61 ms. Found 0 Redis repository interfaces.
2025-08-12 15:59:23.642  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 15:59:23.726  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 15:59:23.729  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 15:59:24.102  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 15:59:24.122  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 14800 ms
2025-08-12 15:59:25.764  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 15:59:25.777  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 15:59:25.792  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 15:59:25.890  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 15:59:27.183  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 15:59:27.302  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 15:59:27.414  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 15:59:27.851  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.193s)
2025-08-12 15:59:27.919  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 15:59:27.926  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 15:59:28.568  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 15:59:29.014  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 15:59:30.343  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 15:59:30.748  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 15:59:33.785  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 15:59:33.873  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 15:59:34.038  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 0 email providers: 
2025-08-12 16:01:04.120  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 1440bdb20ed4 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 16:01:04.127  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 16:01:08.143  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 16:01:08.154  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 16:01:08.759  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 564 ms. Found 1 JPA repository interfaces.
2025-08-12 16:01:08.828  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 16:01:08.832  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 16:01:08.878  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 16:01:08.880  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-08-12 16:01:12.622  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 16:01:12.700  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 16:01:12.703  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 16:01:13.054  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 16:01:13.063  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8800 ms
2025-08-12 16:01:14.166  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 16:01:14.173  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 16:01:14.177  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 16:01:14.319  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 16:01:15.610  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 16:01:15.743  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 16:01:15.817  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 16:01:16.097  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.179s)
2025-08-12 16:01:16.161  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 16:01:16.179  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 16:01:16.834  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 16:01:17.038  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 16:01:18.227  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 16:01:19.099  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 16:01:21.643  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 16:01:21.689  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 16:01:21.776  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 0 email providers: 
2025-08-12 16:01:28.658  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f1cddf3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@228bda54, org.springframework.security.web.context.SecurityContextPersistenceFilter@1fedf0a4, org.springframework.security.web.header.HeaderWriterFilter@2db2a05f, org.springframework.web.filter.CorsFilter@75b6dd5b, org.springframework.security.web.authentication.logout.LogoutFilter@73a8e994, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee48610, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d08b4e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b3e86d5, org.springframework.security.web.session.SessionManagementFilter@1b13467c, org.springframework.security.web.access.ExceptionTranslationFilter@7102ac3e, org.springframework.security.web.access.intercept.AuthorizationFilter@56dd6efa]
2025-08-12 16:01:29.038  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 16:01:30.915 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 16:01:30.919 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 16:01:31.512  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 16:01:31.530  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 16:01:31.741  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ae73c80:0/SimpleConnection@6a15b73 [delegate=amqp://admin@172.18.0.2:5672/, localPort= 59222]
2025-08-12 16:01:31.891  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 29.818 seconds (JVM running for 32.49)
2025-08-12 16:01:31.903  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 16:01:32.579  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 16:01:32.582 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:01:32.589 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:01:32.591 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:01:32.595 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:01:32.596 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:01:32.600 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:01:32.600  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 16:01:32.601  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 16:06:22.128  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 16:06:22.954  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 16:06:22.963 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 16:06:23.095  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 16:06:23.098  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 16:06:23.103  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 16:06:25.150  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on 41a37e4f8b11 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 16:06:25.155  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 16:06:26.207  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 16:06:26.212  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 16:06:26.364  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 1 JPA repository interfaces.
2025-08-12 16:06:26.380  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 16:06:26.382  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 16:06:26.395  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 16:06:26.396  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-08-12 16:06:27.232  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 16:06:27.245  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 16:06:27.246  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 16:06:27.318  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 16:06:27.319  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2104 ms
2025-08-12 16:06:27.517  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 16:06:27.519  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 16:06:27.521  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 16:06:27.538  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 16:06:27.752  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 16:06:27.775  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 16:06:27.793  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 16:06:27.850  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.034s)
2025-08-12 16:06:27.866  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 16:06:27.868  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 16:06:27.956  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 16:06:28.026  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 16:06:28.229  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 16:06:28.327  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 16:06:28.827  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 16:06:28.836  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 16:06:28.856  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 0 email providers: 
2025-08-12 16:06:30.231  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f1cddf3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@228bda54, org.springframework.security.web.context.SecurityContextPersistenceFilter@1fedf0a4, org.springframework.security.web.header.HeaderWriterFilter@2db2a05f, org.springframework.web.filter.CorsFilter@75b6dd5b, org.springframework.security.web.authentication.logout.LogoutFilter@73a8e994, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee48610, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d08b4e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b3e86d5, org.springframework.security.web.session.SessionManagementFilter@1b13467c, org.springframework.security.web.access.ExceptionTranslationFilter@7102ac3e, org.springframework.security.web.access.intercept.AuthorizationFilter@56dd6efa]
2025-08-12 16:06:30.324  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 16:06:30.763 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 16:06:30.771 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 16:06:30.890  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 16:06:30.893  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 16:06:30.937  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ae73c80:0/SimpleConnection@15fb4566 [delegate=amqp://admin@172.18.0.2:5672/, localPort= 34566]
2025-08-12 16:06:31.002  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 6.482 seconds (JVM running for 7.101)
2025-08-12 16:06:31.008  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 16:06:31.465  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 16:06:31.467 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:06:31.474 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:06:31.475 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:06:31.477 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:06:31.478 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:06:31.481 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:06:31.482  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 16:06:31.483  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 16:14:43.253  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 16:14:44.143  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 16:14:44.163 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 16:14:44.325  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 16:14:44.328  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 16:14:44.334  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 16:14:46.847  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on b10d841c66b0 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 16:14:46.852  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
2025-08-12 16:14:48.043  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 16:14:48.049  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-12 16:14:48.338  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 272 ms. Found 1 JPA repository interfaces.
2025-08-12 16:14:48.354  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-12 16:14:48.356  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-12 16:14:48.372  INFO 1 --- [main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.correos.masivos.email.infrastructure.repository.EmailLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-12 16:14:48.373  INFO 1 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-08-12 16:14:49.277  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2025-08-12 16:14:49.302  INFO 1 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-08-12 16:14:49.304  INFO 1 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.83]
2025-08-12 16:14:49.391  INFO 1 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-08-12 16:14:49.392  INFO 1 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2477 ms
2025-08-12 16:14:49.702  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.5.13 by Redgate
2025-08-12 16:14:49.703  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : See what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#8.5.13
2025-08-12 16:14:49.705  INFO 1 --- [main] o.f.c.internal.license.VersionPrinter    : 
2025-08-12 16:14:49.729  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-08-12 16:14:49.970  INFO 1 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-08-12 16:14:49.996  INFO 1 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:postgresql://correos-postgres:5432/correos_masivos_emails (PostgreSQL 15.13)
2025-08-12 16:14:50.011  WARN 1 --- [main] o.f.c.internal.database.base.Database    : Flyway upgrade recommended: PostgreSQL 15.13 is newer than this version of Flyway and support has not been tested. The latest supported version of PostgreSQL is 14.
2025-08-12 16:14:50.083  INFO 1 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 5 migrations (execution time 00:00.043s)
2025-08-12 16:14:50.103  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema "public": 5
2025-08-12 16:14:50.105  INFO 1 --- [main] o.f.core.internal.command.DbMigrate      : Schema "public" is up to date. No migration necessary.
2025-08-12 16:14:50.270  INFO 1 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-12 16:14:50.434  INFO 1 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.15.Final
2025-08-12 16:14:50.804  INFO 1 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-08-12 16:14:50.958  INFO 1 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect
2025-08-12 16:14:51.512  INFO 1 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-08-12 16:14:51.523  INFO 1 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 16:14:51.546  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Initializing EmailServiceImpl with 1 total providers
2025-08-12 16:14:51.547  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Provider Resend SMTP: available=false
2025-08-12 16:14:51.549  INFO 1 --- [main] c.c.m.e.i.service.EmailServiceImpl       : Loaded 0 email providers: 
2025-08-12 16:14:53.517  INFO 1 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f1cddf3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@228bda54, org.springframework.security.web.context.SecurityContextPersistenceFilter@1fedf0a4, org.springframework.security.web.header.HeaderWriterFilter@2db2a05f, org.springframework.web.filter.CorsFilter@75b6dd5b, org.springframework.security.web.authentication.logout.LogoutFilter@73a8e994, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ee48610, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d08b4e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b3e86d5, org.springframework.security.web.session.SessionManagementFilter@1b13467c, org.springframework.security.web.access.ExceptionTranslationFilter@7102ac3e, org.springframework.security.web.access.intercept.AuthorizationFilter@56dd6efa]
2025-08-12 16:14:53.612  WARN 1 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-12 16:14:54.047 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Starting RedisMessageListenerContainer...
2025-08-12 16:14:54.050 DEBUG 1 --- [main] o.s.d.r.l.RedisMessageListenerContainer  : Postpone listening for Redis messages until actual listeners are added.
2025-08-12 16:14:54.219  INFO 1 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2025-08-12 16:14:54.225  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [correos-rabbitmq:5672]
2025-08-12 16:14:54.330  INFO 1 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ae73c80:0/SimpleConnection@15fb4566 [delegate=amqp://admin@172.18.0.2:5672/, localPort= 45332]
2025-08-12 16:14:54.428  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Started EmailServiceApplication in 8.303 seconds (JVM running for 9.107)
2025-08-12 16:14:54.436  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🚀 EMAIL SERVICE READY - Starting Redis connection test...
2025-08-12 16:14:54.881  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis connection successful: PONG
2025-08-12 16:14:54.884 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:14:54.900 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:14:54.901 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:14:54.904 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:14:54.905 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Fetching Redis Connection from RedisConnectionFactory
2025-08-12 16:14:54.908 DEBUG 1 --- [main] o.s.d.redis.core.RedisConnectionUtils    : Closing Redis Connection.
2025-08-12 16:14:54.909  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : ✅ Redis operations test successful: OK
2025-08-12 16:14:54.910  INFO 1 --- [main] c.c.m.email.config.RedisHealthChecker    : 🎉 EMAIL SERVICE FULLY OPERATIONAL WITH REDIS!
2025-08-12 16:15:19.617  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2025-08-12 16:15:20.431  INFO 1 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2025-08-12 16:15:20.446 DEBUG 1 --- [SpringApplicationShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : Stopped RedisMessageListenerContainer.
2025-08-12 16:15:20.593  INFO 1 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-12 16:15:20.595  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-08-12 16:15:20.598  INFO 1 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-08-12 16:15:22.315  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : Starting EmailServiceApplication using Java 17.0.2 on b10d841c66b0 with PID 1 (/app/microservicios/email-service/target/email-service-1.0.0-SNAPSHOT.jar started by root in /app)
2025-08-12 16:15:22.318  INFO 1 --- [main] c.c.m.email.EmailServiceApplication      : The following 1 profile is active: "dev"
